---
layout: post
title: "离散型全期望公式解迷宫问题"
description: ""
category: math
tags: [math]
---
{% include JB/setup %}

曾经上课时，老师讲到的一个可以运用“离散型全期望公式”解决的例子，在此总结如下：

问题：假设迷宫有四条路，如下图。某个人在五角星处，他走每一条路时间不同（单程），时间如图。只有一条路可以走出迷宫（图中正上方那条路）。假设这个人方向感很差，每次选择可能包含四种可能（即使刚走过的路也可能被选择）。计算该人平均走出迷宫的时间。我们可以设走每条路的时间为随机变量T，看起来不太容易求出其时间期望。
<p><img src="/images/blogImgs/labyrinth1.jpg"></p>

于是，我们可以再设一个随机变量X，表示该人选择了哪一条路。我们将图中四条路分别标为1、2、3、4,如下图。
<p><img src="/images/blogImgs/labyrinth2.jpg"></p>

现在我们来求E(T)，由随机变量的条件数学期望的性质，我们可以得到E(T) = E{E(T|X)}  。有离散型全期望公式，我们可以得到：

    E{E(T|X)} = ∑ E(T|X = x) P{X = x} = 
    P{X = 1} E(T|x = 1) + P{X = 2} E(T|x = 2) + P{X = 3} E(T|x = 3) + P{X = 4} E(T|x = 4)

每次选路等概，即1/4.于是我们得到：

    上式 = 1/4 {E(T|x = 1) + E(T|x = 2）+ E(T|x = 3) + E(T|x = 4)}

由于第2、3、4号路，走到死路后要返回五角星，需要再次选路。故，可得：

上式 
    
    上式 = 1/4 {T1 + 2 * T2 + E(T) + 2 * T3 + E(T) + 2 * T4 + E(T)}

于是我们得到最后结果：

    E(T) = 1/4 {T1 + 2 * T2 + E(T) + 2 * T3 + E(T) + 2 * T4 + E(T)}
    E(T) = {T1 + 2 * T2 + 2 * T3 + 2 * T4}

我们看到，通过增加一个随机变量Ｘ，使用全期望公式能够很顺利解决这个问题。而在很多工程应用上，全期望公式都有其巨大的作用。
